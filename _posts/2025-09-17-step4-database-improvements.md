# κ°λ° μΌμ§€ - 4λ‹¨κ³„: λ°μ΄ν„°λ² μ΄μ¤ μ–΄λ…Έν…μ΄μ… λ° μ»¨λ²„ν„° κ°μ„  (2025-09-17)

## π― λ©ν‘
- JPA μ–΄λ…Έν…μ΄μ… μµμ ν™”
- AttributeConverter κ°μ„ 
- λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ•μ •μ„± ν™•λ³΄

## π”§ μν–‰ν• μ‘μ—…

### 1. AttributeConverter κ°μ„ 
- **StringListConverter μ¶”κ°€**: `List<String>` νƒ€μ…μ„ JSONμΌλ΅ λ³€ν™ν•λ” μ»¨λ²„ν„° κµ¬ν„
- **κΈ°μ΅΄ μ»¨λ²„ν„° ν™μ©**: PassiveListConverter, SkillListConverter μ¬μ‚¬μ©

### 2. JPA μ–΄λ…Έν…μ΄μ… μµμ ν™”
- **@Lob + @Convert λ¬Έμ  ν•΄κ²°**: λ™μ‹ μ‚¬μ©μΌλ΅ μΈν• JPA μ΄μ ν•΄κ²°
- **λ…μ‹μ  μ»¬λΌ μ •μ**: `@Column(columnDefinition = "TEXT")` μ‚¬μ©
- **μ»¬λΌ μ μ•½μ΅°κ±΄ μ¶”κ°€**: `nullable = false`, `length` μ ν• μ„¤μ •

### 3. Entity κµ¬μ΅° κ°μ„ 

#### Persona Entity:
- λ¨λ“  κΈ°λ³Έ μ¤νƒ― ν•„λ“μ— `@Column(nullable = false)` μ¶”κ°€
- `gender`, `trait` ν•„λ“μ— κΈΈμ΄ μ ν• μ„¤μ •
- λ³µμ΅ν• λ°μ΄ν„° νƒ€μ…(Map, List)μ— μ μ ν• μ»¨λ²„ν„° μ μ©

#### GameSession Entity:
- `logHistory`, `choiceHistory`μ— StringListConverter μ μ©
- `@Lob` μ κ±°ν•κ³  λ…μ‹μ  μ»¬λΌ μ •μ μ‚¬μ©

### 4. λ°μ΄ν„° λ¬΄κ²°μ„± κ°•ν™”
- **NOT NULL μ μ•½μ΅°κ±΄**: ν•„μ ν•„λ“λ“¤μ— λ€ν• DB λ λ²¨ κ²€μ¦
- **κΈΈμ΄ μ ν•**: λ¬Έμμ—΄ ν•„λ“μ μ μ ν• ν¬κΈ° μ„¤μ •
- **JSON μ§λ ¬ν™”**: λ³µμ΅ν• κ°μ²΄μ μ•μ „ν• μ €μ¥/λ³µμ›

## π“ λ³€κ²½λ νμΌ
- `ListConverter.kt`: StringListConverter μ¶”κ°€
- `Persona.kt`: μ–΄λ…Έν…μ΄μ… μµμ ν™”, μ»¬λΌ μ μ•½μ΅°κ±΄ μ¶”κ°€
- `GameSession.kt`: List ν•„λ“μ— μ»¨λ²„ν„° μ μ©, @Lob μ κ±°

## β… κ°μ„  μ‚¬ν•­
- π›΅οΈ JPA νΈν™μ„± λ¬Έμ  ν•΄κ²°
- π“ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ•μ •μ„± ν–¥μƒ
- π”„ μ•μ „ν• JSON μ§λ ¬ν™”/μ—­μ§λ ¬ν™”
- π― λ…μ‹μ μ΄κ³  μμΈ΅ κ°€λ¥ν• μ»¬λΌ μ •μ

## π” κΈ°μ μ  κ°μ„ μ 
- **@Lob μμ΅΄μ„± μ κ±°**: λ” λ‚μ€ ν¬ν„ΈλΉλ¦¬ν‹°μ™€ μ„±λ¥
- **νƒ€μ… μ•μ „μ„±**: Gson TypeTokenμ„ ν†µν• μ•μ „ν• μ—­μ§λ ¬ν™”
- **null μ•μ „μ„±**: μ»¨λ²„ν„°μ—μ„ null μ²λ¦¬ κ°μ„ 

## π“‹ λ‹¤μ λ‹¨κ³„ μ¤€λΉ„
- ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±
- Repository κµ¬ν„μ²΄ ν…μ¤νΈ
- API ν†µν•© ν…μ¤νΈ κµ¬ν„

---
*λ‹¨κ³„ μ™„λ£: 2025λ…„ 9μ›” 17μΌ*